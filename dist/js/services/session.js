var db,express,log,router;log=require("../logging"),db=require("../persistence"),express=require("express"),router=module.exports=express.Router(),router.post("/login",function(e){return function(e,s){return db.loginUser(e.body.username,e.body.password,function(r,o){return r?log.warn("RH | AUTH-UH-OH ( "+e.body.username+" ): "+r.message):e.session.user=o,e.session.user?s.send("OK!"):s.status(401).send("NO!")})}}(this)),router.post("/logout",function(e,s){return e.session?(delete e.session.user,s.send("Bye!")):void 0});