var chalk,coffee,coffeeStream,dirProductive,dirTesting,fCompileEngine,fCompileGulpFile,fCompileWebapp,fHandleError,gulp,gulphelp,gutil,msgCmdC,plumber,uglify,watch;gulp=require("gulp"),plumber=require("gulp-plumber"),gutil=require("gulp-util"),chalk=gutil.colors,gulphelp=require("gulp-help"),uglify=require("gulp-uglify"),coffee=require("gulp-coffee"),watch=require("gulp-watch"),dirTesting="builds/testing/",dirProductive="builds/productive/",msgCmdC="\n\n\n --> Press Ctrl/Cmd + C to stop watching!\n\n",gulphelp(gulp,{description:"Displays this!",aliases:["h","?","-h","--help"]}),gulp.task("default",["help"],function(){}),coffeeStream=coffee({bare:!0}),fHandleError=function(e){var l;return gutil.beep(),l=e.stack?e.stack:e.toString(),gutil.log(chalk.red(l))},fCompileGulpFile=function(e){var l;return l=gulp.src("gulpfile.coffee").pipe(plumber({errorHandler:fHandleError})),e&&(l=l.pipe(watch())),l.pipe(coffeeStream).pipe(uglify()).pipe(gulp.dest(""))},gulp.task("gulpfile-compile","Compile Gulp File",function(){return gutil.log(chalk.yellow(gulp.tasks["gulpfile-compile"].help.message)),fCompileGulpFile(!1)}),gulp.task("gulpfile-compile-watch","Continously compile Gulp File when it changes",function(){return gutil.log(chalk.yellow(gulp.tasks["gulpfile-compile-watch"].help.message+msgCmdC)),fCompileGulpFile(!0)}),fCompileEngine=function(e){var l;return l=gulp.src("src/engine-coffee/*.coffee").pipe(plumber({errorHandler:fHandleError})),e&&(l=l.pipe(watch())),l.pipe(coffeeStream).pipe(gulp.dest(dirTesting+"js")).pipe(uglify()).pipe(gulp.dest(dirProductive+"js"))},gulp.task("engine-compile","One-time compiling of ENGINE coffee files",function(){return gutil.log(chalk.yellow(gulp.tasks["engine-compile"].help.message)),fCompileEngine(!1)}),gulp.task("engine-compile-watch","Start watching for ENGINE coffee file changes and compile them",function(){return gutil.log(chalk.yellow(gulp.tasks["engine-compile-watch"].help.message+msgCmdC)),fCompileEngine(!0)}),fCompileWebapp=function(e){var l;return l=gulp.src("src/engine-coffee/*.coffee").pipe(plumber({errorHandler:fHandleError})),e&&(l=l.pipe(watch())),l.pipe(coffeeStream).pipe(gulp.dest(dirTesting+"js")).pipe(uglify()).pipe(gulp.dest(dirProductive+"js"))},gulp.task("webapp-compile","One-time compiling of WEBAPP coffee files",function(){return gutil.log(chalk.yellow(gulp.tasks["all-compile"].help.message)),fCompileWebapp(!1)}),gulp.task("webapp-compile-watch","Start watching for WEBAPP coffee file changes and compile them",function(){return gutil.log(chalk.yellow(gulp.tasks["all-compile-watch"].help.message+msgCmdC)),fCompileWebapp(!0)}),gulp.task("all-compile","One-time compiling of ALL coffee files",function(){return gutil.log(chalk.yellow(gulp.tasks["all-compile"].help.message)),fCompileGulpFile(!1),fCompileEngine(!1),fCompileWebapp(!1)}),gulp.task("all-compile-watch","Start watching for ALL coffee file changes and compile them",function(){return gutil.log(chalk.yellow(gulp.tasks["all-compile-watch"].help.message+msgCmdC)),fCompileGulpFile(!0),fCompileEngine(!0),fCompileWebapp(!0)});